# 认证模块

本模块负责用户认证相关的功能实现。

## 功能特性
### 用户认证
- 邮箱注册
- 邮箱登录
- 第三方登录
- 密码重置
- 邮箱验证
- 登出操作

### 用户信息
- 获取用户信息
- 更新用户信息
- 更新头像
- 修改密码
- 绑定手机

### 会话管理
- 自动登录
- 会话持久化
- 令牌刷新
- 多设备登录
- 会话超时

## 技术实现
### 数据层 (data/)
- 远程数据源
  - Supabase认证API
  - 用户信息API
  - 文件上传API
- 本地数据源
  - 令牌存储
  - 用户信息缓存
  - 自动登录信息
- 数据模型
  - 用户模型
  - 认证令牌模型
  - 用户资料模型
- 仓库实现
  - 认证仓库
  - 用户仓库

### 领域层 (domain/)
- 实体
  - 用户实体
  - 认证令牌实体
  - 用户资料实体
- 仓库接口
  - 认证仓库接口
  - 用户仓库接口
- 用例
  - 注册用例
  - 登录用例
  - 登出用例
  - 重置密码用例
  - 验证邮箱用例
  - 更新资料用例
  - 修改密码用例

### 表现层 (presentation/)
- 状态管理
  - 认证状态
  - 登录状态
  - 注册状态
  - 资料状态
- 页面
  - 登录页面
  - 注册页面
  - 忘记密码页面
  - 邮箱验证页面
  - 个人资料页面
- 组件
  - 登录表单
  - 注册表单
  - 密码输入框
  - 邮箱输入框
  - 头像组件

## 安全要求
- 密码加密存储
- 令牌安全存储
- 防止重放攻击
- 请求签名验证
- 并发访问控制
- 敏感数据加密
- 会话安全控制

## 开发规范
1. 使用Riverpod状态管理
2. 遵循Clean Architecture
3. 实现数据验证
4. 统一错误处理
5. 规范日志记录
6. 优化性能
7. 支持国际化
8. 支持主题切换
9. 支持无障碍

## 注意事项
- 处理网络异常
- 处理并发请求
- 处理会话超时
- 处理令牌过期
- 处理设备兼容
- 优化用户体验
- 确保数据安全 